<div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
        <div class="modal-header" id='green'>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Ticket For </h4>
        </div>
        <div class="modal-body" ng-init="">
            <a href="#" ng-click="data.testAgain(modalData.currentVehicle)">text {{modalData.currentVehicle}}</a>
            <notification></notification>
            <div class="text-center" ng-show="data.linkAdd == 'active'">
                <div class="col-lg-8 col-md-8 col-lg-offset-2 col-md-offset-2">

                    <form novalidate="" name="ticketSettings"  class="form-horizontal">

                        <div ng-show='data.ticketSettings.responseStatus' ng-class="{ 'has-error' : true}" class='text-center alert btn-sm  alert-danger'>
                            {{data.ticketSettings.responseMessage}}</div>   



                        <div class="form-group" style="padding:0px;"  ng-class="{ 'has-error' : ticketSettings.vehicleId.$invalid && !ticketSettings.vehicleId.$pristine }">
                            <label for="vehicleId" class="control-label col-xs-2">Vehicle</label>
                            <div class="col-md-10">




                                <select class="form-control" ng-model='data.ticketSettings.vehicleId'>
                                    <option selected disabled="">--SELECT VEHICLE--</option>
                                    <option ng-repeat="vehicles in data.searchedVehicles" 
                                            name='vehicleId' required value="{{vehicles.regNo}}"    >{{vehicles.regNo}}
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group" style="padding:0px;" ng-hide="true" ng-class="{ 'has-error' : ticketSettings.vehicleId.$invalid && !ticketSettings.vehicleId.$pristine }">
                            <label for="vehicleId" class="control-label col-xs-2">Vehicle</label>
                            <div class="col-md-10">
                                <input  class="form-control" hidden name='code' required  ng-model='data.ticketSettings.code'>

                            </div>
                        </div>




                        <div class="form-group" ng-init="data.getReasons('TBL_REASONS')"
                             style="padding:0px;"  ng-class="{ 'has-error' : ticketSettings.reasonId.$invalid && !ticketSettings.reasonId.$pristine }">
                            <label for="reasonId" class="control-label col-xs-2">Reason</label>
                            <div class="col-md-10">
                                <select  class="form-control" placeholder="reason" ng-click="modalData.genTicketCode()"
                                         name='reasonId' required ng-model='data.ticketSettings.reasonId'>
                                    <option selected disabled="">Reason</option>
                                    <option ng-repeat="reasons in data.reasons" value="{{reasons.id}}" >{{reasons.reason}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group"
                             style="padding:0px;"  ng-class="{ 'has-error' : ticketSettings.reasonId.$invalid && !ticketSettings.reasonId.$pristine }">
                            <label for="reasonId" class="control-label col-xs-2">Type</label>
                            <div class="col-md-10">
                                <select  class="form-control" placeholder="incomingType" name='incomingType' required ng-model='data.ticketSettings.incomingType'>
                                    <option selected disabled="">Type</option>
                                    <option value="INCOMING" >INCOMING</option>
                                    <option value="OUTGOING" >OUTGOING</option>
                                </select>
                            </div>
                        </div>









                        <div class="form-group" style="padding:0px;" ng-class="{ 'has-error' : ticketSettings.extras.$invalid && !ticketSettings.extras.$pristine }">
                            <label for="extras" class="control-label col-xs-2">Details</label>
                            <div class="col-md-10">
                                <textarea class="form-control" cols="70" rows="5" id="comment" name="extras"
                                          placeholder="maximum of 200 character" ng-model='data.ticketSettings.extras'
                                          required>

                                </textarea>
                            </div>
                            <small class="text-muted">Please enter details of the issue in less that 200 characters</small>
                        </div>

                        <div class="form-group col-sm-12 " style="padding:0px;">
                            <label for="extras" class="control-label col-xs-2"></label>
                            <div class="col-md-10">
                                <button class=" btn " id="green" style='width:100%'
                                        ng-click="modalData.saveQuickTicket(data.ticketSettings, 'TBL_TICKETS', 1)"
                                        ng-disabled="ticketSettings.$invalid || data.custError"
                                        >save {{data.modalHeader|lowercase}}</button>
                            </div>    
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <!--   <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
        </div>
    </div>

</div>

<div ng-controller="modalsController">
    <div class="modal fade" id="addVehicle" role="dialog">
        <div ng-include="'modals/addVehicle.html'"></div>
    </div>
</div>
<script>
    $(document).ready(function () {
        $('.combobox').combobox();
    });
</script>