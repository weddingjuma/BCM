<!DOCTYPE html>
<html lang="en" id='ng-app' ng-app="mainModule">

    <head >

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>Flexx</title>
        <meta charset="UTF-8">

        <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
        <link rel='shortcut icon' href='favicon.ico' type='image/x-icon'/>
        <!-- Bootstrap Core CSS -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <!--
        <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap-theme.min.css">
        <script src="https://code.jquery.com/jquery-2.0.2.js"></script>
        <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
        -->

        <link href="css/calendarDemo.css" rel="stylesheet">
        <link href="css/fullcalendar.css" rel="stylesheet">
        <link href="css/bootstrap.combobox.css" rel="stylesheet">
        <!-- Custom CSS -->
        <link href="css/sb-admin.css" rel="stylesheet">
        <link href="css/main-wrapper.css" rel="stylesheet">
        <!-- Morris Charts CSS -->
        <link href="css/jquery-ui.complete.min.css" rel="stylesheet">
        <!-- <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.css">-->

        <!-- Start of angular files--->
        <script src="angularjs/angularMain/angular.min.js"></script>
        <script src="angularjs/angularMain/angular-route.js"></script>
        <script src="angularjs/angularMain/dirPagination.js"></script>
        <!--
           <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.min.js"></script>
           <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-aria.min.js"></script>
           <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-messages.min.js"></script>
   
           
           <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.js"></script>
   
        <!-- Angular Material Library -->




        <!--    <script src="angularjs/angularMain/ng-load.js"></script>-->
        <!------------------Begin of online stuff----------------------
        <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-2.0.1.js"></script>
         <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.9/angular-cookies.js"></script>
         <script src="https://rawgit.com/allenhwkim/angularjs-google-maps/master/build/scripts/ng-map.js"></script>
        -->
        <script src="onlineStuff/ui-bootstrap-tpls-2.0.1.js"></script>
        <script src="onlineStuff/angular-cookies.js"></script>
        <script src="https://maps.google.com/maps/api/js?libraries=placeses,visualization,drawing,geometry,places&key=AIzaSyDE7TBQhMAvtpClgGjvnQsOlfbcP9-VHIE"></script>
        <!--
        
         
        <!------------------End of online stuff------------------------>

        <script src="angularjs/controllers/mainController.js"></script>
        <script src="angularjs/controllers/constants.js"></script>
        <script src="angularjs/controllers/modalsControllers.js"></script>
        <script src="angularjs/controllers/autoComplete.js"></script>
        <script src="angularjs/services/mainMapServices.js"></script>
        <script src="angularjs/controllers/ticketsController.js"></script>
        <script src="angularjs/controllers/reportsController.js"></script>
        <script src="angularjs/controllers/mapModule.js"></script>
        <script src="angularjs/filters/customFilters.js"></script>
        <link href="css/plugins/gritter/css/jquery.gritter.css" rel="stylesheet" type="text/css"/>

        <!--event calendar data --->

        <script src="js/jquery.js"></script>
        <script src="js/locationpicker.jquery.min.js"></script>
        <script src="js/jquery.table2excel.js" type="text/javascript"></script>
        <!--<script src="angularjs/angularMain/ui-bootstrap-tpls-0.9.0.js"></script>-->
        <script src="angularjs/angularMain/moment.js"></script>
        <script src="angularjs/angularMain/fullcalendar.js"></script>

        <script src="angularjs/angularMain/calendar.js"></script>
        <script src="angularjs/angularMain/calendarDemo.js"></script>
        <!---------------------------------------------->


        <!-- Custom Fonts -->
        <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    </head>

    <body id='ng-app' ng-app="mainModule" ng-controller='mainController' >

        <div id="wrapper" >

            <!-- Navigation -->
            <nav class="nav navbar navbar-inverse navbar-fixed-top"  role="navigation">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header col-lg-2 col-sm-2 " >
                    <button type="button" class="navbar-toggle collapsed"
                            data-toggle="collapse"  data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#/" ng-cloak>FlexCom</a>
                </div>
                <!--Middle menu-->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"  ng-cloak>

                    <!---->
                    <!-- Top Menu Items -->
                    <ul class="nav navbar-right top-nav" ng-if='loggedStatus'>
                        <li class="dropdown" ng-controller="modalsController"> 
                            <a href="#/" target="_self" class="dropdown-toggle" data-toggle="dropdown" ng-cloak="">
                                <i class="fa fa-user"></i> {{username}} 
                                <span class="btn btn-danger btn-xs" ng-show="modalData.messageCounter > 0">{{modalData.messageCounter}}</span> <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="#/profile" data-toggle="modal" data-target="#profile"><i class="fa fa-fw fa-user"></i> Profile</a>
                                </li>
                                <li>
                                    <a href="#/chat"><i class="fa fa-fw fa-envelope"></i> Inbox
                                     <span class="btn btn-danger btn-xs" ng-show="modalData.messageCounter > 0">{{modalData.messageCounter}}</span></b></a>
                                    </a>
                                </li>
                                <li>
                                    <a target="_self" ng-click="data.toggleMenu()"><i class="fa fa-list"></i> Toggle Menu</a>
                                </li>
                                <li>
                                    <a href="#/myDayWork"><i class="fa fa-anchor"></i> My Day Work</a>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <a href="#" ng-click='data.logout()'><i class="fa fa-fw fa-power-off"></i> Log Out</a>
                                </li>


                            </ul>
                        </li>
                        <li class="dropdown" ng-show="!data.fullMenu" ng-controller="modalsController">
                            <a href="#/" target="_self" class="dropdown-toggle" data-toggle="dropdown" ng-cloak="">
                                <i class="fa fa-list"></i> Menu<b class="caret"></b></a>
                            <ul class="dropdown-menu">


                                <li  ng-show="modalData.returnMenuFlag(48)">
                                    <a href="#/customers"><div class='sidelinks'><i class="fa fa-user" ></i> Customer</div></a>
                                </li>

                                <li  ng-show="modalData.returnMenuFlag(49)">
                                    <a href="#/vehicles"><div class='sidelinks'><i class="fa fa-taxi" ></i> Vehicles</div></a>
                                </li>
                                <li  ng-show="modalData.returnMenuFlag(5)">
                                    <a href="#/insurance"><div class='sidelinks'><i class="fa fa-institution" ></i> Insurance</div></a>
                                </li>
                                <li  ng-show="modalData.returnMenuFlag(34)">
                                    <a href="#/financier"> <div class='sidelinks'><i class="fa fa-money" ></i> Financier</div></a>
                                </li>
                                <li  ng-show="modalData.returnMenuFlag(40)">
                                    <a href="#/cv"> <div class='sidelinks'><i class="fa fa-link" ></i> Link C-V</div></a>
                                </li>
                                <li  ng-show="modalData.returnMenuFlag(46)">
                                    <a href="#/certificates"><div class='sidelinks'><i class="fa fa-paperclip" ></i> Certificates</div></a>
                                </li>

                        </li>
                        <!--
                        <li  ng-show="modalData.returnMenuFlag(39)">
                            <div class='sidelinks'><a href="#/approveCertificates"><i class="fa fa-ticket" ></i> Approve Certs</div></a>
                        </li>
                         <li  ng-show="modalData.returnMenuFlag(36)">
                             <div class='sidelinks'><a href="#/reprint"><i class="fa fa-print" ></i> Print Certificates</div></a>
                         </li>
                        <li  ng-show="modalData.returnMenuFlag(38)">
                             <div class='sidelinks'><a href="#/emailCert"><i class="fa fa-envelope" ></i> Email Certificates</div></a>
                         </li>
                        <li  ng-show="modalData.returnMenuFlag(17)">
                            <div class='sidelinks'><a href="#/payments"><i class="fa fa-folder" ></i> Payments</div></a>
                        </li>
                        -->
                        <li  ng-show="modalData.returnMenuFlag(50)">
                            <a href="#/devices"><div class='sidelinks'><i class="fa fa-compass" ></i> Devices</div></a>
                        </li>
                        <li  ng-show="modalData.returnMenuFlag(51)">
                            <a href="#/company"> <div class='sidelinks'><i class="fa fa-key" ></i> Settings</div></a>
                        </li>


                        <li  ng-show="modalData.returnMenuFlag(16)">
                            <a href="#/tickets"><div class='sidelinks'><i class="fa fa-list" ></i> Tickets</div></a>
                        </li>
                        <li  ng-show="modalData.returnMenuFlag(41)">
                            <a href="#/calendar">  <div class='sidelinks'><i class="fa fa-calendar" ></i> Calendar</div></a>
                        </li>
                        <li  ng-show="modalData.returnMenuFlag(52)">
                            <a href="#/accounts"> <div class='sidelinks'><i class="fa fa-bank" ></i> Accounts Cert</div></a>
                        </li>
                      <!--  <li  ng-show="modalData.returnMenuFlag(52)">
                            <a href="#/accInv"> <div class='sidelinks'><i class="fa fa-money" ></i> Acc Invoices</div></a>
                        </li>
                      -->
                        <li  ng-show="modalData.returnMenuFlag(95)">
                            <a href="#/userDayOperations"><div class='sidelinks'><i class="fa fa-users" ></i> Operations</div></a>
                        </li>




                    </ul>

                    </ul>
                    </li>
                    </ul>
                    <!-- Sidebar Menu Items - These collapse to the responsive navigation menu on small screens 
                    <div class="collapse navbar-collapse navbar-ex1-collapse">
                        
                    </div>
                    <!-- /.navbar-collapse -->
                </div>
            </nav>
        </div>

        <div  style='height: 100%;' class='main-body'>

            <div  class="col-lg-12  "  id='map-holder'>
                <div class="row " id='map' >


                    <div class='col-xs-12  lower-menu'>


                        <div ng-if='loggedStatus' ng-include="'menus/sideTabs.html'" ng-show="data.fullMenu"></div>

                        <div class='{{data.mainDiv}} main-data-page'  id='main-data-page'>

                            <!-------- dynamic files/div to be loaded here--------->
                            <div ng-view></div>
                            <!-----end of dynamic files--------->	

                        </div>
                    </div>
                </div>
                <div class="row  row-fluid" id='footer_below' >
                    <div class="text-center pull-left col-xs-10">  <a href=''>Flex Telematics </a> @2016<br>

                    </div>
                    <div class="pull-left col-xs-2" ng-if='loggedStatus'>
                        <button class="btn btn-success" data-toggle="modal" data-controls-modal="closeDay" data-backdrop="static" data-keyboard="false"
                                data-target="#closeDay">
                            CLOSE DAY/SHIFT
                        </button>
                    </div>

                </div>




                <!-- /.container-fluid -->

            </div>
            <!-- /#page-wrapper -->

        </div>
        <div id="jspanel">
        </div>
        <!-- /#wrapper -->

        <!-- jQuery
        <script src="js/jquery.min.js"></script>
        -->
        <!-- Bootstrap Core JavaScript -->
        <!---jquery files here--->







        <!------->
        <div class="modal fade" id="closeDay" role="dialog" ng-controller="modalsController">
            <div class="modal-dialog small"  style='background-color: black;'>

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-body">
                        <ul class='list-group'>
                            <li class="list-group-item">Please confirm closure of day at : {{data.currentDateTime()}}</li>
                            <li class="list-group-item">
                                <button class="btn btn-primary" ng-click="modalData.endDayOperation()" data-dismiss="modal">
                                    Confirm & log out
                                </button>
                                <button class="btn btn-danger" data-dismiss="modal">
                                    Cancel
                                </button>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </body>

    <script src="js/bootstrap.min.js"></script>
    <!--    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>-->

    <!--
    <script type="text/javascript" src="//cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
    
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />
    -->
    <script src="onlineStuff/moment.min.js"></script>
    <script src="onlineStuff/daterangepicker.js"></script>
    <script src="onlineStuff/jQueryCookie.js"></script>
    <link rel="stylesheet" href="onlineStuff/daterangepicker.css"> 
    <script src="css/plugins/gritter/js/modernizr-2.6.2-respond-1.1.0.min.js" type="text/javascript"></script>
    <script src="css/plugins/gritter/js/jquery.gritter.js" type="text/javascript"></script>

    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap-theme.min.css">


    <script type="text/javascript">
                                    $(document).ready(function () {
                                        $(".close").click(function () {
                                            alert();
                                            document.getElementById('form').reset();
                                        })



                                        $('[data-toggle="popover"]').popover();
                                    });

                                    (function ($) {
                                        var setCookie,
                                                removeCookie,
                                                // Create constants for things instead of having same string
                                                // in multiple places in code.
                                                COOKIE_NAME = 'TabOpen',
                                                SITE_WIDE_PATH = {path: '/'};

                                        setCookie = function () {
                                            $.cookie(COOKIE_NAME, '1', SITE_WIDE_PATH);
                                        };

                                        removeCookie = function () {
                                            $.removeCookie(COOKIE_NAME, SITE_WIDE_PATH);
                                        };

                                        // We don't need to wait for DOM ready to check the cookie
                                        if ($.cookie(COOKIE_NAME) === undefined) {
                                            setCookie();
                                            $(window).unload(removeCookie);
                                        } else {
                                            // Replace the whole body with an error message when the DOM is ready.
                                            $(function () {
                                                $('body').html(
                                                        '<div class="error btn-danger text-center" style=height:400px;>' +
                                                        '<h1>Sorry!</h1><hr>' +
                                                        '<p >You can only have one instance of the <b>CRM application </b>running at a time.</p>' +
                                                        '</div>');
                                            });
                                        }
                                    }(jQuery));
    </script>


</html>